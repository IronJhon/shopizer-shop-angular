<div class="checkout">
    <banner [title]="'Checkout'"></banner>

    <div class="container p-t-100 p-b-45">
        <div class="row">
            <div class="col-md-12">
                <div class="checkout-heading">
                    <a href="/account">Returning customer? Click here to login</a>
                </div>
                <div class="checkout-heading">
                    <a href="#">Have a coupon? Click here to enter your code</a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="au-form-body p-b-0">
                    <custom-label [label]="'Billing Details'" [className]="'cart-border'"></custom-label>
                    <form #checkoutForm="ngForm" role="form">
                        <div class="row">
                            <div class="col-sm-6">
                                <input-field type="text" label="First Name" labelAfter="true" [(ngModel)]="checkout.firstname"
                                    name="firstname" placeHolder="" bottom="24" required>
                                </input-field>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="txt" label="Last Name" labelAfter="true" [(ngModel)]="checkout.lastname"
                                    name="lastname" placeHolder="" bottom="24" required>
                                </input-field>
                            </div>
                        </div>
                        <input-field type="text" label="Company Name" [(ngModel)]="checkout.companyName" name="companyName"
                            placeHolder="" bottom="24">
                        </input-field>
                        <div class='address-class'>
                            <input-field type="text" label="Address" labelAfter="true" [(ngModel)]="checkout.address"
                                name="address" placeHolder="Street address" required>
                            </input-field>
                        </div>

                        <input-field type="text" label="" [(ngModel)]="checkout.address1" name="address1" placeHolder="Apartment, suite, unit etc. (optional)"
                            bottom="24">
                        </input-field>
                        <input-field type="text" label="Town/City" [(ngModel)]="checkout.city" name="city" placeHolder=""
                            labelAfter="true" bottom="24" required>
                        </input-field>
                        <custom-select label="Country" labelAfter="true" bottom="24" [(ngModel)]="checkout.country"
                            name="country" [data]="countryData" required (onSelectChange)="onCountrySelect($event)">
                        </custom-select>
                        <div class="row">
                            <div class="col-sm-6">
                                <custom-select label="State" labelAfter="true" bottom="24" [(ngModel)]="checkout.state"
                                    name="state" [data]="stateData" required>
                                </custom-select>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="text" label="Postcode / Zip" [(ngModel)]="checkout.postcode" name="postcode"
                                    placeHolder="" labelAfter="true" bottom="24" (onInputChange)="onShippingChange()"
                                    [readonly]="checkout.state == ''" required>
                                </input-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <input-field type="text" label="Phone" labelAfter="true" [(ngModel)]="checkout.phone"
                                    name="phone" placeHolder="" bottom="24" #phone="ngModel" pattern="[0-9]+" minlength="10"
                                    maxlength="10" required>
                                    <err-required message="Enter a 10-digit number" [isValid]="phone.valid || (phone.pristine)"></err-required>

                                </input-field>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="text" label="Email Address" labelAfter="true" [(ngModel)]="checkout.email"
                                    name="email" placeHolder="" bottom="24" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]{2,}[.][a-zA-Z0-9-.]{2,}"
                                    required>
                                    <err-required message="Valid email required " [isValid]="phone.valid || (phone.pristine)"></err-required>
                                </input-field>
                            </div>
                        </div>
                        <div class="account-create">
                            <custom-checkbox [label]="'Create an account'" (onChange)="onCreateAccount()"></custom-checkbox>
                        </div>
                        <div *ngIf="isAccount">
                            <a class="pass-info">Create an account by entering the information below. If you are a
                                returning customer
                                please login using the link at the top of the page.</a>
                            <input-field type="password" label="Account password" labelAfter="true" [(ngModel)]="checkout.password"
                                name="password" placeHolder="" bottom="30" required>
                                <!-- <err-required message="Valid email required " [isValid]="phone.valid || (phone.pristine)"></err-required> -->
                            </input-field>
                        </div>
                    </form>
                </div>
                <div class="is-shipping">
                    <custom-checkbox [label]="'SHIP TO A DIFFERENT ADDRESS?'" (onChange)="onShipDiffrent()">
                    </custom-checkbox>
                </div>
                <div [ngClass]="isShipping ? 'au-form-body p-b-0 open' : 'au-form-body p-b-0' " *ngIf="isShipping">
                    <!-- <custom-label [label]="'Shipping Details'" [className]="'cart-border'"></custom-label> -->
                    <!-- <div class="account-create">
                        <custom-checkbox [label]="'Same as Billing Details'" (onChange)="onSameBillingAddress($event)">
                        </custom-checkbox>
                    </div> -->
                    <form #checkoutForm="ngForm" role="form">
                        <div class="row">
                            <div class="col-sm-6">
                                <input-field type="text" label="Shipping First Name" labelAfter="true" [(ngModel)]="shipping.firstname"
                                    name="firstname" placeHolder="" bottom="24" required>
                                </input-field>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="txt" label="Shipping Last Name" labelAfter="true" [(ngModel)]="shipping.lastname"
                                    name="lastname" placeHolder="" bottom="24" required>
                                </input-field>
                            </div>
                        </div>
                        <input-field type="text" label="Shipping Company Name" [(ngModel)]="shipping.companyName" name="companyName"
                            placeHolder="" bottom="24">
                        </input-field>
                        <div class='address-class'>
                            <input-field type="text" label="Shipping Address" labelAfter="true" [(ngModel)]="shipping.address"
                                name="address" placeHolder="Shipping Street address" required>
                            </input-field>
                        </div>

                        <input-field type="text" label="" [(ngModel)]="shipping.address1" name="address1" placeHolder="Apartment, suite, unit etc. (optional)"
                            bottom="24">
                        </input-field>
                        <input-field type="text" label="Shipping Town/City" [(ngModel)]="shipping.city" name="city"
                            placeHolder="" labelAfter="true" bottom="24" required>
                        </input-field>
                        <custom-select label="Shipping Country" labelAfter="true" bottom="24" [(ngModel)]="shipping.country"
                            name="country" [data]="countryData" required (onSelectChange)="onCountrySelect($event)">
                        </custom-select>
                        <div class="row">
                            <div class="col-sm-6">
                                <custom-select label="Shipping State" labelAfter="true" bottom="24" [(ngModel)]="shipping.state"
                                    name="state" [data]="stateData" required>
                                </custom-select>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="text" label="Shipping Postcode / Zip" [(ngModel)]="shipping.postcode"
                                    name="postcode" placeHolder="" labelAfter="true" bottom="24" (onInputChange)="onShippingChange()"
                                    required>
                                </input-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <input-field type="text" label="Shipping Phone" labelAfter="true" [(ngModel)]="shipping.phone"
                                    name="phone" placeHolder="" bottom="24" #phone="ngModel" pattern="[0-9]+" minlength="10"
                                    maxlength="10" required>
                                    <err-required message="Enter a 10-digit number" [isValid]="phone.valid || (phone.pristine)"></err-required>

                                </input-field>
                            </div>
                            <div class="col-sm-6">
                                <input-field type="text" label="Shipping Email Address" labelAfter="true" [(ngModel)]="shipping.email"
                                    name="email" placeHolder="" bottom="24" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]{2,}[.][a-zA-Z0-9-.]{2,}"
                                    required>
                                    <err-required message="Valid email required " [isValid]="phone.valid || (phone.pristine)"></err-required>
                                </input-field>
                            </div>
                        </div>


                    </form>
                </div>

                <div class="au-form-body">
                    <custom-label [label]="'Additional Information'" [className]="'cart-border'"></custom-label>
                    <custom-textarea label="Order notes" [(ngModel)]="checkout.note" name="note" placeHolder="">
                    </custom-textarea>
                </div>

            </div>
            <div class="col-md-6" *ngIf="summeryOrder">
                <div class="au-form-body">
                    <custom-label [label]="'Your order'" [className]="'cart-border'"></custom-label>
                    <!-- <h2 class="au-form-title form-title-border m-b-37">YOUR ORDER</h2> -->
                    <table class="checkout-bill">
                        <tbody>
                            <tr>
                                <th>{{ 'product' | translate}}</th>
                                <th>{{ 'total' | translate}}</th>
                            </tr>
                            <tr *ngFor="let result of cartData.products">
                                <td>{{result.description.name}}</td>
                                <td>${{result.price * result.quantity}}</td>
                            </tr>
                            <tr *ngFor="let total of summeryOrder.totals" [ngClass]="total.title != 'Total' ? '' : 'total-show'">
                                <td *ngIf="total.title != 'Total'">{{total.title}}</td>
                                <td *ngIf="total.title != 'Total'">{{total.total}}</td>
                            </tr>
                            <tr *ngIf="shippingData" class="shipping-data">
                                <td class="shipping-key">Shipping Fees</td>
                                <td class="shipping">
                                    <div class="shipping-note">
                                        A Shipping quote will be available after filling the postal code
                                    </div>
                                    <div class="shipping-option">
                                        <span *ngFor="let shipping of shippingData.shippingOptions">
                                            <input type="radio" name="gender" value="shipping.shippingQuoteOptionId"
                                                (change)="shippingQuoteChange(shipping)"><label>{{shipping.optionName}}
                                                :
                                                ${{shipping.optionPrice}}</label>
                                        </span>
                                    </div>
                                    <div class="shipping-descripton">
                                        This option let you reserve you order items through the online system and pick
                                        up your order by yourself at the store. this option is also offered when no
                                        other shipping option is available for your region.
                                    </div>


                                </td>
                            </tr>
                            <tr class="total">
                                <td>Total</td>
                                <td>{{summeryOrder.total}}</td>
                            </tr>
                        </tbody>

                    </table>
                    <!-- <form>
                        <div class="checkout-payment m-b-16">

                            <custom-label [label]="'Check payment'"></custom-label>
                            <p class="simple-text">Please send a check to Store Name, Store Street, Store Town, Store
                                State / County, Store
                                Postcode.
                            </p>
                        </div>
                        <div class="checkout-paypal m-t-16">

                            <custom-label [label]="'Paypal'"></custom-label>

                            <custom-img [src]="'assets/images/icon/paypal.png'" [alt]="'paypal'"></custom-img>
                            <a href="#">What is paypal?</a>
                        </div>

                        <btn [text]="'proceed to paypal'" class="process-button m-t-50 float-right" (onClick)="onPayment()"></btn>
                    </form> -->
                </div>

            </div>
        </div>
    </div>
</div>